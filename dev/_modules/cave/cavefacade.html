

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cave.cavefacade &mdash; CAVE 1.3.4.dev documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> CAVE
          

          
            
            <img src="../../_static/cave.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.3.4.dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manual.html">Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../manualdoc/commandline.html">Commandline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manualdoc/jupyternotebook.html">Jupyter Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manualdoc/fileformats.html">Input Format</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manualdoc/budgets.html">Budgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manualdoc/internal_data_processing.html">Internal Data Processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">F.A.Q.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../apidoc/cave.analyzer.html">cave.analyzer package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.analyzer.budgets.html">cave.analyzer.budgets package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.budgets.bohb_incumbents_per_budget.html">cave.analyzer.budgets.bohb_incumbents_per_budget module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.budgets.bohb_learning_curves.html">cave.analyzer.budgets.bohb_learning_curves module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.budgets.budget_correlation.html">cave.analyzer.budgets.budget_correlation module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.analyzer.configurator.html">cave.analyzer.configurator package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.configurator.configurator_footprint.html">cave.analyzer.configurator.configurator_footprint module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.configurator.parallel_coordinates.html">cave.analyzer.configurator.parallel_coordinates module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.analyzer.feature_analysis.html">cave.analyzer.feature_analysis package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.feature_analysis.box_violin.html">cave.analyzer.feature_analysis.box_violin module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.feature_analysis.feature_analysis.html">cave.analyzer.feature_analysis.feature_analysis module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.feature_analysis.feature_clustering.html">cave.analyzer.feature_analysis.feature_clustering module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.feature_analysis.feature_correlation.html">cave.analyzer.feature_analysis.feature_correlation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.feature_analysis.feature_imp.html">cave.analyzer.feature_analysis.feature_imp module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.feature_analysis.feature_importance.html">cave.analyzer.feature_analysis.feature_importance module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.analyzer.parameter_importance.html">cave.analyzer.parameter_importance package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.parameter_importance.cave_ablation.html">cave.analyzer.parameter_importance.cave_ablation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.parameter_importance.cave_fanova.html">cave.analyzer.parameter_importance.cave_fanova module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.parameter_importance.cave_forward_selection.html">cave.analyzer.parameter_importance.cave_forward_selection module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.parameter_importance.cave_parameter_importance.html">cave.analyzer.parameter_importance.cave_parameter_importance module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.parameter_importance.local_parameter_importance.html">cave.analyzer.parameter_importance.local_parameter_importance module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.parameter_importance.pimp_comparison_table.html">cave.analyzer.parameter_importance.pimp_comparison_table module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.analyzer.performance.html">cave.analyzer.performance package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.performance.algorithm_footprint.html">cave.analyzer.performance.algorithm_footprint module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.performance.compare_default_incumbent.html">cave.analyzer.performance.compare_default_incumbent module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.performance.cost_over_time.html">cave.analyzer.performance.cost_over_time module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.performance.overview_table.html">cave.analyzer.performance.overview_table module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.performance.performance_table.html">cave.analyzer.performance.performance_table module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.performance.plot_ecdf.html">cave.analyzer.performance.plot_ecdf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.analyzer.performance.plot_scatter.html">cave.analyzer.performance.plot_scatter module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.analyzer.base_analyzer.html">cave.analyzer.base_analyzer module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../apidoc/cave.cave_cli.html">cave.cave_cli module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../apidoc/cave.cavefacade.html">cave.cavefacade module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../apidoc/cave.plot.html">cave.plot package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.plot.parallel_plot.html">cave.plot.parallel_plot package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.plot.parallel_plot.parallel_plot.html">cave.plot.parallel_plot.parallel_plot module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.plot.parallel_plot.parallel_reset.html">cave.plot.parallel_plot.parallel_reset module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.plot.parallel_plot.parallel_selection_tool.html">cave.plot.parallel_plot.parallel_selection_tool module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.plot.algorithm_footprint.html">cave.plot.algorithm_footprint module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.plot.cdf.html">cave.plot.cdf module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.plot.configurator_footprint.html">cave.plot.configurator_footprint module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.plot.scatter.html">cave.plot.scatter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.plot.whisker_quantiles.html">cave.plot.whisker_quantiles module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../apidoc/cave.html.html">cave.html package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.html.html_builder.html">cave.html.html_builder module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.html.html_helpers.html">cave.html.html_helpers module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../apidoc/cave.reader.html">cave.reader package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.reader.conversion.html">cave.reader.conversion package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.reader.conversion.base_converter.html">cave.reader.conversion.base_converter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.reader.conversion.csv2rh.html">cave.reader.conversion.csv2rh module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.reader.conversion.csv2smac.html">cave.reader.conversion.csv2smac module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../apidoc/cave.reader.conversion.hpbandster2smac.html">cave.reader.conversion.hpbandster2smac module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.reader.base_reader.html">cave.reader.base_reader module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.reader.configurator_run.html">cave.reader.configurator_run module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.reader.runs_container.html">cave.reader.runs_container module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.reader.smac2_reader.html">cave.reader.smac2_reader module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.reader.smac3_reader.html">cave.reader.smac3_reader module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../apidoc/cave.utils.html">cave.utils package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.bokeh_routines.html">cave.utils.bokeh_routines module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.convert_for_epm.html">cave.utils.convert_for_epm module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.exceptions.html">cave.utils.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.helpers.html">cave.utils.helpers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.hpbandster_helpers.html">cave.utils.hpbandster_helpers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.io.html">cave.utils.io module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.statistical_tests.html">cave.utils.statistical_tests module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.timing.html">cave.utils.timing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../apidoc/cave.utils.tooltips.html">cave.utils.tooltips module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CAVE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>cave.cavefacade</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for cave.cavefacade</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">tempfile</span>
<span class="kn">import</span> <span class="nn">typing</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<span class="kn">from</span> <span class="nn">importlib</span> <span class="kn">import</span> <span class="n">reload</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">List</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">cave.__version__</span> <span class="kn">import</span> <span class="n">__version__</span> <span class="k">as</span> <span class="n">cave_version</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.budgets.incumbents_over_budgets</span> <span class="kn">import</span> <span class="n">IncumbentsOverBudgets</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.budgets.bohb_learning_curves</span> <span class="kn">import</span> <span class="n">BohbLearningCurves</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.budgets.budget_correlation</span> <span class="kn">import</span> <span class="n">BudgetCorrelation</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.configurator.configurator_footprint</span> <span class="kn">import</span> <span class="n">ConfiguratorFootprint</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.configurator.parallel_coordinates</span> <span class="kn">import</span> <span class="n">ParallelCoordinates</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.feature_analysis.box_violin</span> <span class="kn">import</span> <span class="n">BoxViolin</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.feature_analysis.feature_clustering</span> <span class="kn">import</span> <span class="n">FeatureClustering</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.feature_analysis.feature_correlation</span> <span class="kn">import</span> <span class="n">FeatureCorrelation</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.feature_analysis.feature_importance</span> <span class="kn">import</span> <span class="n">FeatureImportance</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.parameter_importance.ablation</span> <span class="kn">import</span> <span class="n">Ablation</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.parameter_importance.fanova</span> <span class="kn">import</span> <span class="n">Fanova</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.parameter_importance.forward_selection</span> <span class="kn">import</span> <span class="n">ForwardSelection</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.parameter_importance.local_parameter_importance</span> <span class="kn">import</span> <span class="n">LocalParameterImportance</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.parameter_importance.pimp_comparison_table</span> <span class="kn">import</span> <span class="n">PimpComparisonTable</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.performance.algorithm_footprint</span> <span class="kn">import</span> <span class="n">AlgorithmFootprint</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.performance.compare_default_incumbent</span> <span class="kn">import</span> <span class="n">CompareDefaultIncumbent</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.performance.cost_over_time</span> <span class="kn">import</span> <span class="n">CostOverTime</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.performance.overview_table</span> <span class="kn">import</span> <span class="n">OverviewTable</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.performance.performance_table</span> <span class="kn">import</span> <span class="n">PerformanceTable</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.performance.plot_ecdf</span> <span class="kn">import</span> <span class="n">PlotECDF</span>
<span class="kn">from</span> <span class="nn">cave.analyzer.performance.plot_scatter</span> <span class="kn">import</span> <span class="n">PlotScatter</span>
<span class="kn">from</span> <span class="nn">cave.html.html_builder</span> <span class="kn">import</span> <span class="n">HTMLBuilder</span>
<span class="kn">from</span> <span class="nn">cave.reader.runs_container</span> <span class="kn">import</span> <span class="n">RunsContainer</span>
<span class="kn">from</span> <span class="nn">cave.utils.exceptions</span> <span class="kn">import</span> <span class="n">Deactivated</span><span class="p">,</span> <span class="n">NotApplicable</span>
<span class="kn">from</span> <span class="nn">cave.utils.helpers</span> <span class="kn">import</span> <span class="n">load_default_options</span>
<span class="kn">from</span> <span class="nn">cave.utils.timing</span> <span class="kn">import</span> <span class="n">timing</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Joshua Marben&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright 2017, ML4AAD&quot;</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;3-clause BSD&quot;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s2">&quot;Joshua Marben&quot;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s2">&quot;joshua.marben@neptun.uni-freiburg.de&quot;</span>


<div class="viewcode-block" id="_analyzer_type"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade._analyzer_type">[docs]</a><span class="k">def</span> <span class="nf">_analyzer_type</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="nd">@wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">wrap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Args: </span><span class="si">%s</span><span class="s2">, Kwargs: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">kw</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">analyzer</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">Deactivated</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="n">NotApplicable</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Skipping analyzer (</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># execute hooks, if possible and/or desired</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_jupyter</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">analyzer</span><span class="o">.</span><span class="n">get_jupyter</span><span class="p">()</span>
                <span class="k">except</span> <span class="ne">ImportError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Assuming that jupyter is not installed. Disable for rest of report.&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">show_jupyter</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">analyzer</span><span class="o">.</span><span class="n">get_html</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_build_website</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">analyzer</span>
    <span class="k">return</span> <span class="n">wrap</span></div>


<div class="viewcode-block" id="CAVE"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE">[docs]</a><span class="k">class</span> <span class="nc">CAVE</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">folders</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                 <span class="n">output_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                 <span class="n">ta_exec_dir</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                 <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
                 <span class="n">validation_format</span><span class="o">=</span><span class="s1">&#39;NONE&#39;</span><span class="p">,</span>
                 <span class="n">validation_method</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;epm&#39;</span><span class="p">,</span>
                 <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
                 <span class="n">show_jupyter</span><span class="p">:</span> <span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">verbose_level</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;OFF&#39;</span><span class="p">,</span>
                 <span class="n">analyzing_options</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span>
                 <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize CAVE facade to handle analyzing, plotting and building the report-page easily.</span>
<span class="sd">        During initialization, the analysis-infrastructure is built and the data is validated, the overall best</span>
<span class="sd">        incumbent is found and default+incumbent are evaluated for all instances for all runs, by default using an EPM.</span>

<span class="sd">        Arguments</span>
<span class="sd">        ---------</span>
<span class="sd">        folders: list&lt;strings&gt;</span>
<span class="sd">            paths to relevant SMAC runs</span>
<span class="sd">        output_dir: string</span>
<span class="sd">            output for cave to write results (figures + report)</span>
<span class="sd">        ta_exec_dir: string</span>
<span class="sd">            execution directory for target algorithm (to find instance.txt specified in scenario, ..)</span>
<span class="sd">        file_format: string</span>
<span class="sd">            what format the rundata is in, options are [SMAC3, SMAC2, BOHB and CSV]</span>
<span class="sd">        validation_format: string</span>
<span class="sd">            what format the validation rundata is in, options are [SMAC3, SMAC2, CSV and None]</span>
<span class="sd">        validation_method: string</span>
<span class="sd">            from [validation, epm], how to estimate missing runs</span>
<span class="sd">        seed: int</span>
<span class="sd">            random seed for analysis (e.g. the random forests)</span>
<span class="sd">        show_jupyter: bool</span>
<span class="sd">            default True, tries to output plots and tables to jupyter-frontend, if available</span>
<span class="sd">        verbose_level: string</span>
<span class="sd">            from [OFF, INFO, DEBUG, DEV_DEBUG and WARNING]</span>
<span class="sd">        analyzing_options: string or dict</span>
<span class="sd">            options-dictionary following CAVE&#39;s options-syntax</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_jupyter</span> <span class="o">=</span> <span class="n">show_jupyter</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_jupyter</span><span class="p">:</span>
            <span class="c1"># Reset logging module (needs to happen before logger initialization)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
            <span class="n">reload</span><span class="p">(</span><span class="n">logging</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">output_dir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_dir_created</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># this flag avoids multiple output-dir creations</span>

        <span class="c1"># Create output_dir and set verbosity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_verbosity</span><span class="p">(</span><span class="n">verbose_level</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_create_outputdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Running CAVE version </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">cave_version</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">verbose_level</span> <span class="o">=</span> <span class="n">verbose_level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">folders</span> <span class="o">=</span> <span class="n">folders</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ta_exec_dir</span> <span class="o">=</span> <span class="n">ta_exec_dir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_format</span> <span class="o">=</span> <span class="n">file_format</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validation_format</span> <span class="o">=</span> <span class="n">validation_format</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validation_method</span> <span class="o">=</span> <span class="n">validation_method</span>

        <span class="c1"># Configuration of analyzers (works as a default for report generation)</span>
        <span class="n">analyzing_options</span> <span class="o">=</span> <span class="n">load_default_options</span><span class="p">(</span><span class="n">analyzing_options</span><span class="p">,</span> <span class="n">file_format</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span> <span class="o">=</span> <span class="n">RunsContainer</span><span class="p">(</span><span class="n">folders</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">folders</span><span class="p">,</span>
                                           <span class="n">ta_exec_dirs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ta_exec_dir</span><span class="p">,</span>
                                           <span class="n">output_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span>
                                           <span class="n">file_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_format</span><span class="p">,</span>  <span class="c1"># TODO remove?</span>
                                           <span class="n">validation_format</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">validation_format</span><span class="p">,</span>  <span class="c1"># TODO remove?</span>
                                           <span class="n">analyzing_options</span><span class="o">=</span><span class="n">analyzing_options</span><span class="p">,</span>
                                           <span class="p">)</span>

        <span class="c1"># create builder for html-website, decide for suitable logo</span>
        <span class="n">custom_logo</span> <span class="o">=</span> <span class="s1">&#39;./custom_logo.png&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s1">&#39;BOHB&#39;</span><span class="p">:</span>
            <span class="n">logo_fn</span> <span class="o">=</span> <span class="s1">&#39;BOHB_logo.png&#39;</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">file_format</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;SMAC&#39;</span><span class="p">):</span>
            <span class="n">logo_fn</span> <span class="o">=</span> <span class="s1">&#39;SMAC_logo.png&#39;</span>
        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">custom_logo</span><span class="p">):</span>
            <span class="n">logo_fn</span> <span class="o">=</span> <span class="n">custom_logo</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logo_fn</span> <span class="o">=</span> <span class="s1">&#39;automl-logo.png&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;No suitable logo found. You can use a custom logo simply by having a file called &#39;</span><span class="si">%s</span><span class="s2">&#39; &quot;</span>
                             <span class="s2">&quot;in the directory from which you run CAVE.&quot;</span><span class="p">,</span> <span class="n">custom_logo</span><span class="p">)</span>
        <span class="n">use_custom_logo</span> <span class="o">=</span> <span class="n">custom_logo</span> <span class="o">==</span> <span class="n">logo_fn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">builder</span> <span class="o">=</span> <span class="n">HTMLBuilder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="s2">&quot;CAVE&quot;</span><span class="p">,</span> <span class="n">logo_fn</span><span class="o">=</span><span class="n">logo_fn</span><span class="p">,</span> <span class="n">logo_custom</span><span class="o">=</span><span class="n">use_custom_logo</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">website</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([])</span>

<div class="viewcode-block" id="CAVE.analyze"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.analyze">[docs]</a>    <span class="nd">@timing</span>
    <span class="k">def</span> <span class="nf">analyze</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">options</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Analyze the available data and build HTML-webpage as dict.</span>
<span class="sd">        Save webpage in &#39;self.output_dir/CAVE/report.html&#39;.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        options: Dict or str</span>
<span class="sd">            either a dictionary or a path to an ini-file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Save jupyter-flag (needs to be False while analyzing) and reset it later.</span>
        <span class="n">flag_show_jupyter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_jupyter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_jupyter</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Process analyzing-options</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Loading </span><span class="se">\&quot;</span><span class="si">{}</span><span class="se">\&quot;</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">options</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">analyzing_options</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">occurences</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">analyzing_options</span><span class="o">.</span><span class="n">sections</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">occurences</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is an arbitrary option - to avoid collisions, consider a different name.&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">occurences</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">analyzing_options</span><span class="o">.</span><span class="n">sections</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is not found in default options. Are you sure you know what you are doing?&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">analyzing_options</span><span class="o">.</span><span class="n">sections</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">analyzing_options</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="s1">&#39;run&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">analyzing_options</span><span class="p">[</span><span class="n">s</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">analyzing_options</span><span class="p">[</span><span class="n">s</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

        <span class="c1"># Invoke the analyzers one by one</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overview_table</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compare_default_incumbent</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="s2">&quot;Meta Data&quot;</span><span class="p">))</span>

        <span class="c1">###################################################</span>
        <span class="c1">#  Performance Analysis  #  Performance Analysis  #</span>
        <span class="c1">###################################################</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Performance Analysis&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">performance_table</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_ecdf</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">algorithm_footprints</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>

        <span class="c1">###################################################</span>
        <span class="c1">#    Budget  Analysis    #    Budget  Analysis    #</span>
        <span class="c1">###################################################</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Budget Analysis&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">get_budgets</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bohb_incumbents_per_budget</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">budget_correlation</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;BOHB&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">bohb_learning_curves</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>

        <span class="c1">###################################################</span>
        <span class="c1">#         Parameter- and Feature-Analysis         #</span>
        <span class="c1">###################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parameter_importance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="s2">&quot;Parameter Importance&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feature_analysis</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="s2">&quot;Feature Analysis&quot;</span><span class="p">))</span>

        <span class="c1">###################################################</span>
        <span class="c1">#            Configurator&#39;s Behaviour             #</span>
        <span class="c1">###################################################</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Configurators Behavior&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configurator_footprint</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cost_over_time</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>
        <span class="c1"># Parallel Coordinates should be after parameter importance, if performed.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parallel_coordinates</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">,</span> <span class="n">title</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_build_website</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;CAVE finished. Report is located in </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="s1">&#39;report.html&#39;</span><span class="p">))</span>

        <span class="c1"># Set jupyter-flag as it was before.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_jupyter</span> <span class="o">=</span> <span class="n">flag_show_jupyter</span></div>

<div class="viewcode-block" id="CAVE._get_dict"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE._get_dict">[docs]</a>    <span class="k">def</span> <span class="nf">_get_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">layername</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Get the appropriate sub-dict for this layer (or layer-run combination) and create it if necessary &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Pass a valid dict to _get_dict!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layername</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
            <span class="n">d</span><span class="p">[</span><span class="n">layername</span><span class="p">]</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="n">layername</span><span class="p">]</span></div>

<div class="viewcode-block" id="CAVE.overview_table"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.overview_table">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">overview_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">OverviewTable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.compare_default_incumbent"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.compare_default_incumbent">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">compare_default_incumbent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CompareDefaultIncumbent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.performance_table"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.performance_table">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">performance_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PerformanceTable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.plot_scatter"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.plot_scatter">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">plot_scatter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PlotScatter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.plot_ecdf"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.plot_ecdf">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">plot_ecdf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PlotECDF</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.algorithm_footprints"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.algorithm_footprints">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">algorithm_footprints</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">AlgorithmFootprint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.cost_over_time"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.cost_over_time">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">cost_over_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">incumbent_trajectory</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">CostOverTime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">,</span>
                            <span class="n">incumbent_trajectory</span><span class="o">=</span><span class="n">incumbent_trajectory</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.parallel_coordinates"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.parallel_coordinates">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">parallel_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">pc_sort_by</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="n">params</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="n">n_configs</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="n">max_runs_epm</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="p">):</span>
        <span class="k">return</span> <span class="n">ParallelCoordinates</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">,</span>
                                   <span class="n">pc_sort_by</span><span class="o">=</span><span class="n">pc_sort_by</span><span class="p">,</span>
                                   <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                                   <span class="n">n_configs</span><span class="o">=</span><span class="n">n_configs</span><span class="p">,</span>
                                   <span class="n">max_runs_epm</span><span class="o">=</span><span class="n">max_runs_epm</span><span class="p">,</span>
                                   <span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.configurator_footprint"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.configurator_footprint">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">configurator_footprint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">time_slider</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">max_configurations_to_plot</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">number_quantiles</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ConfiguratorFootprint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">,</span>
                                     <span class="n">time_slider</span><span class="o">=</span><span class="n">time_slider</span><span class="p">,</span>
                                     <span class="n">max_configurations_to_plot</span><span class="o">=</span><span class="n">max_configurations_to_plot</span><span class="p">,</span>
                                     <span class="n">number_quantiles</span><span class="o">=</span><span class="n">number_quantiles</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.cave_fanova"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.cave_fanova">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">cave_fanova</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fanova</span> <span class="o">=</span> <span class="n">Fanova</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IndexError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Error in fANOVA (</span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">,</span> <span class="n">exc_info</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">&quot;Error in fANOVA - please run with --pimp_no_fanova_pairs (this might be due to a known &quot;</span>
                             <span class="s2">&quot;issue with ints and bools in categorical hyperparameters, see issue #192).&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fanova</span></div>

<div class="viewcode-block" id="CAVE.cave_ablation"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.cave_ablation">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">cave_ablation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Ablation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.pimp_forward_selection"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.pimp_forward_selection">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">pimp_forward_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ForwardSelection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.local_parameter_importance"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.local_parameter_importance">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">local_parameter_importance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">LocalParameterImportance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.pimp_comparison_table"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.pimp_comparison_table">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">pimp_comparison_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">pimp_sort_table_by</span><span class="o">=</span><span class="s2">&quot;average&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PimpComparisonTable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">,</span>
                                   <span class="n">sort_table_by</span><span class="o">=</span><span class="n">pimp_sort_table_by</span><span class="p">,</span>
                                   <span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.parameter_importance"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.parameter_importance">[docs]</a>    <span class="k">def</span> <span class="nf">parameter_importance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">d</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Perform the specified parameter importance procedures. &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cave_fanova</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cave_ablation</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pimp_forward_selection</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">local_parameter_importance</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;fANOVA&#39;</span><span class="p">,</span> <span class="s1">&#39;Ablation&#39;</span><span class="p">,</span> <span class="s1">&#39;Forward Selection&#39;</span><span class="p">,</span> <span class="s1">&#39;Local Parameter Importance (LPI)&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">analyzing_options</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="s1">&#39;run&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;False&#39;</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">pct</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pimp_comparison_table</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
            <span class="n">d</span><span class="o">.</span><span class="n">move_to_end</span><span class="p">(</span><span class="n">pct</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.feature_importance"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.feature_importance">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">feature_importance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">FeatureImportance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span></div>

<div class="viewcode-block" id="CAVE.box_violin"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.box_violin">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">box_violin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">BoxViolin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.feature_correlation"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.feature_correlation">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">feature_correlation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">FeatureCorrelation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.feature_clustering"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.feature_clustering">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">feature_clustering</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">FeatureClustering</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.feature_analysis"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.feature_analysis">[docs]</a>    <span class="k">def</span> <span class="nf">feature_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
        <span class="c1"># feature importance using forward selection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feature_importance</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">box_violin</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feature_correlation</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feature_clustering</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.bohb_learning_curves"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.bohb_learning_curves">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">bohb_learning_curves</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">BohbLearningCurves</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.bohb_incumbents_per_budget"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.bohb_incumbents_per_budget">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">bohb_incumbents_per_budget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">IncumbentsOverBudgets</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.budget_correlation"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.budget_correlation">[docs]</a>    <span class="nd">@_analyzer_type</span>
    <span class="k">def</span> <span class="nf">budget_correlation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">BudgetCorrelation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="p">)</span></div>

<span class="c1">###########################################################################</span>
<span class="c1"># HELPERS HELPERS HELPERS HELPERS HELPERS HELPERS HELPERS HELPERS HELPERS #</span>
<span class="c1">###########################################################################</span>

<div class="viewcode-block" id="CAVE.print_budgets"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.print_budgets">[docs]</a>    <span class="k">def</span> <span class="nf">print_budgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If the analyzed configurator uses budgets, print a list of available budgets.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">runscontainer</span><span class="o">.</span><span class="n">get_budgets</span><span class="p">())</span></div>

<div class="viewcode-block" id="CAVE._build_website"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE._build_website">[docs]</a>    <span class="k">def</span> <span class="nf">_build_website</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">generate_webpage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">website</span><span class="p">)</span></div>

<div class="viewcode-block" id="CAVE.set_verbosity"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE.set_verbosity">[docs]</a>    <span class="k">def</span> <span class="nf">set_verbosity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set verbosity level and configure loggers (to stdout and to file), create output-dir if necessary.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        level: str</span>
<span class="sd">            From [INFO, WARNING, OFF, DEBUG, DEV_DEBUG]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
        <span class="c1"># Log to stream (console)</span>
        <span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%(levelname)s</span><span class="s1">:</span><span class="si">%(name)s</span><span class="s1">:</span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">stdout_handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
        <span class="n">stdout_handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;INFO&quot;</span><span class="p">:</span>
            <span class="n">stdout_handler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;WARNING&quot;</span><span class="p">:</span>
            <span class="n">stdout_handler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;OFF&quot;</span><span class="p">:</span>
            <span class="n">stdout_handler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">level</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;DEBUG&quot;</span><span class="p">,</span> <span class="s2">&quot;DEV_DEBUG&quot;</span><span class="p">]:</span>
            <span class="n">stdout_handler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="s2">&quot;DEV_DEBUG&quot;</span><span class="p">:</span>
                <span class="c1"># Disable annoying boilerplate-debug-logs from foreign modules</span>
                <span class="n">disable_loggers</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;smac.scenario&quot;</span><span class="p">,</span>
                                   <span class="c1"># pimp logging</span>
                                   <span class="s2">&quot;pimp.epm.unlogged_epar_x_rfwi.UnloggedEPARXrfi&quot;</span><span class="p">,</span>
                                   <span class="s2">&quot;Forward-Selection&quot;</span><span class="p">,</span>
                                   <span class="s2">&quot;LPI&quot;</span><span class="p">,</span>
                                   <span class="c1"># Other (mostly bokeh)</span>
                                   <span class="s2">&quot;PIL.PngImagePlugin&quot;</span><span class="p">,</span>
                                   <span class="s2">&quot;matplotlib&quot;</span><span class="p">,</span>
                                   <span class="s2">&quot;urllib3.connectionpool&quot;</span><span class="p">,</span>
                                   <span class="s2">&quot;selenium.webdriver.remote.remote_connection&quot;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">logger</span> <span class="ow">in</span> <span class="n">disable_loggers</span><span class="p">:</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;cave.settings&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Setting logger </span><span class="se">\&#39;</span><span class="si">%s</span><span class="se">\&#39;</span><span class="s2"> on level INFO&quot;</span><span class="p">,</span> <span class="n">logger</span><span class="p">)</span>
                    <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> not recognized as a verbosity level.&quot;</span>
                             <span class="s2">&quot;Choose from DEBUG, DEV_DEBUG. INFO, WARNING, OFF.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">level</span><span class="p">))</span>

        <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">stdout_handler</span><span class="p">)</span>

        <span class="c1"># Log to file is always debug</span>
        <span class="n">debug_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;debug.log&quot;</span><span class="p">)</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;cave.settings&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Output-file for debug-log: &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">debug_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_create_outputdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">debug_path</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">fh</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">debug_path</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Existing loggers: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">))</span></div>

<div class="viewcode-block" id="CAVE._create_outputdir"><a class="viewcode-back" href="../../apidoc/cave.cavefacade.html#cave.cavefacade.CAVE._create_outputdir">[docs]</a>    <span class="k">def</span> <span class="nf">_create_outputdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Creates output-dir, if necessary. Also sets the &#39;self.output_dir_created&#39;-flag, so this only happens once.</span>
<span class="sd">        If there is a directory already, zip this into an archive in the output_dir called &#39;.OLD.zip&#39;. &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_dir_created</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">output_dir</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; should exist, but doesn&#39;t. Any raceconditions? &quot;</span>
                                   <span class="s2">&quot;Please report to github.com/automl/CAVE/issues with debug/debug.log&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Output-dir &#39;</span><span class="si">%s</span><span class="s2">&#39; was already created, call ignored&quot;</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Saving results to &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">output_dir</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Output-dir &#39;</span><span class="si">%s</span><span class="s2">&#39; does not exist, creating&quot;</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">archive_path</span> <span class="o">=</span> <span class="n">shutil</span><span class="o">.</span><span class="n">make_archive</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">(),</span> <span class="s1">&#39;.OLD&#39;</span><span class="p">),</span> <span class="s1">&#39;zip&#39;</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">archive_path</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Output-dir &#39;</span><span class="si">%s</span><span class="s2">&#39; exists, moving old content to &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span>
                              <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="p">,</span> <span class="s1">&#39;.OLD.zip&#39;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_dir_created</span> <span class="o">=</span> <span class="kc">True</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017-2020, Marius Lindauer, Joshua Marben, Andre Biedenkapp

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>